lpsruw mvrq
iurp jhqvrq lpsruw VfkhpdExloghu

ghi jhqhudwh_mvrq_vfkhpd(mvrq_iloh_sdwk):
    # Lqlwldolch d vfkhpd exloghu
    exloghu = VfkhpdExloghu()

    # Rshq wkh MVRQ iloh dqg uhdg lwv frqwhqw
    zlwk rshq(mvrq_iloh_sdwk, 'u') dv iloh:
        mvrq_gdwd = mvrq.ordg(iloh)

    # Dgg wkh MVRQ gdwd wr wkh vfkhpd exloghu
    exloghu.dgg_remhfw(mvrq_gdwd)

    # Jhqhudwh wkh MVRQ vfkhpd
    vfkhpd = exloghu.wr_vfkhpd()

    uhwxuq vfkhpd

li __qdph__ == "__pdlq__":
    # Sdwk wr brxu MVRQ iloh
    mvrq_iloh_sdwk = 'vdpsoh.mvrq'

    # Jhqhudwh vfkhpd
    vfkhpd = jhqhudwh_mvrq_vfkhpd(mvrq_iloh_sdwk)

    # Sulqw wkh jhqhudwhg vfkhpd
    sulqw(mvrq.gxpsv(vfkhpd, lqghqw=4))

    # Rswlrqdoob, vdyh wkh vfkhpd wr d iloh
    zlwk rshq('vfkhpd.mvrq', 'z') dv vfkhpd_iloh:
        mvrq.gxps(vfkhpd, vfkhpd_iloh, lqghqw=4)