iurp gdwhwlph lpsruw gdwhwlph, wlphghowd

ghi jhw_suhylrxv_vxqgdbv():
    # Jhw wkh fxuuhqw gdwh
    wrgdb = gdwhwlph.qrz().gdwh()

    # Ilqg wkh iluvw gdb ri wkh fxuuhqw prqwk
    iluvw_gdb_ri_prqwk = wrgdb.uhsodfh(gdb=1)

    # Lqlwldolch d olvw wr vwruh doo Vxqgdbv ri wkh fxuuhqw prqwk
    vxqgdbv = []

    # Ilqg wkh iluvw Vxqgdb ri wkh prqwk
    gdb_ri_zhhn = iluvw_gdb_ri_prqwk.zhhngdb()
    li gdb_ri_zhhn != 6:
        iluvw_vxqgdb = iluvw_gdb_ri_prqwk + wlphghowd(gdbv=(6 - gdb_ri_zhhn))
    hovh:
        iluvw_vxqgdb = iluvw_gdb_ri_prqwk

    # Dgg doo Vxqgdbv ri wkh prqwk wr wkh olvw
    fxuuhqw_vxqgdb = iluvw_vxqgdb
    zkloh fxuuhqw_vxqgdb.prqwk == wrgdb.prqwk:
        vxqgdbv.dsshqg(fxuuhqw_vxqgdb)
        fxuuhqw_vxqgdb += wlphghowd(zhhnv=1)

    # Ilowhu rxw wkh Vxqgdbv wkdw duh ehiruh wrgdb'v gdwh
    suhylrxv_vxqgdbv = [vxqgdb iru vxqgdb lq vxqgdbv li vxqgdb <= wrgdb]

    uhwxuq suhylrxv_vxqgdbv

# Jhw doo suhylrxv Vxqgdbv ri wkh fxuuhqw prqwk
suhylrxv_vxqgdbv = jhw_suhylrxv_vxqgdbv()
iru vxqgdb lq suhylrxv_vxqgdbv:
    sulqw(vxqgdb)
